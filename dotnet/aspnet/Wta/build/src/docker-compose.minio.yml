networks:
  wta_network_01:
    external: true

services:
  minio:
    networks: ["wta_network_01"]
    image: ${HUB}/minio:2024
    environment:
      - /etc/localtime:/etc/localtime:ro
      - MINIO_DATA_DIR=/data
      - MINIO_DEFAULT_BUCKETS=default
      - MINIO_ROOT_USER=${MINIO_ROOT_USER}
      - MINIO_ROOT_PASSWORD=${MINIO_ROOT_PASSWORD}
    ports:
      - 9000:9000
      - 9001:9001
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ${DATA}/minio:/data
    healthcheck:
      test: ["CMD", "mc", "ready", "local"]
      interval: 5s
      timeout: 5s
      retries: 5
